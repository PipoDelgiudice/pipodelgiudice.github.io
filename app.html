<!DOCTYPE html>
<html>
<head>
  <title>Perfil de Usuario</title>
</head>
<body>
  <h1>Analizar Usuario</h1>
  <input type="text" id="usernameInput" placeholder="Ingresa el nombre de usuario">
  <button id="analyzeButton">Analizar</button>

  <div id="userInfo">
    <div class="card">
      <img id="avatar" src="" alt="Avatar">
      <h2 id="username"></h2>
      <p id="name"></p>
      <p id="about"></p>
      <img id="flag" src="" alt="Bandera">
      <p id="gamification"></p>
    </div>
  </div>

  <script>
    const analyzeButton = document.getElementById("analyzeButton");
    const usernameInput = document.getElementById("usernameInput");
    const userInfo = document.getElementById("userInfo");

    analyzeButton.addEventListener("click", () => {
      const username = usernameInput.value;
      const apiUrl = `https://api.app.taringa.net/profile/${username}?callback=handleData`;

      const script = document.createElement("script");
      script.src = apiUrl;
      document.head.appendChild(script);
    });

    function handleData(data) {
      const card = document.querySelector(".card");
      const avatar = document.getElementById("avatar");
      const usernameElement = document.getElementById("username");
      const name = document.getElementById("name");
      const about = document.getElementById("about");
      const flag = document.getElementById("flag");
      const gamification = document.getElementById("gamification");

      avatar.src = data.avatar;
      usernameElement.textContent = `Username: ${data.username}`;
      name.textContent = `Name: ${data.name}`;
      about.textContent = `About: ${data.about}`;
      flag.src = `https://www.countryflags.io/${data.location.country}/flat/64.png`;
      gamification.textContent = `Gamification Balance: ${data.gamification.balance}`;
      userInfo.style.display = "block";
    }
  </script>
</body>
</html>
